!function e(t,n,o){function a(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(i)return i(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var l=n[r]={exports:{}};t[r][0].call(l.exports,function(e){var n=t[r][1][e];return a(n?n:e)},l,l.exports,e,t,n,o)}return n[r].exports}for(var i="function"==typeof require&&require,r=0;r<o.length;r++)a(o[r]);return a}({1:[function(e,t,n){"use strict";THREE.OrbitControls=function(e,t){function n(){return 2*Math.PI/60/60*h.autoRotateSpeed}function o(){return Math.pow(.95,h.zoomSpeed)}function a(e){if(h.enabled!==!1){if(e.preventDefault(),0===e.button){if(h.noRotate===!0)return;k=x.ROTATE,E.set(e.clientX,e.clientY)}else if(1===e.button){if(h.noZoom===!0)return;k=x.DOLLY,g.set(e.clientX,e.clientY)}else if(2===e.button){if(h.noPan===!0)return;k=x.PAN,T.set(e.clientX,e.clientY)}h.domElement.addEventListener("mousemove",i,!1),h.domElement.addEventListener("mouseup",r,!1),h.dispatchEvent(U)}}function i(e){if(h.enabled!==!1){e.preventDefault();var t=h.domElement===document?h.domElement.body:h.domElement;if(k===x.ROTATE){if(h.noRotate===!0)return;m.set(e.clientX,e.clientY),f.subVectors(m,E),h.rotateLeft(2*Math.PI*f.x/t.clientWidth*h.rotateSpeed),h.rotateUp(2*Math.PI*f.y/t.clientHeight*h.rotateSpeed),E.copy(m)}else if(k===x.DOLLY){if(h.noZoom===!0)return;H.set(e.clientX,e.clientY),b.subVectors(H,g),b.y>0?h.dollyIn():h.dollyOut(),g.copy(H)}else if(k===x.PAN){if(h.noPan===!0)return;v.set(e.clientX,e.clientY),w.subVectors(v,T),h.pan(w.x,w.y),T.copy(v)}h.update()}}function r(){h.enabled!==!1&&(h.domElement.removeEventListener("mousemove",i,!1),h.domElement.removeEventListener("mouseup",r,!1),h.dispatchEvent(V),k=x.NONE)}function s(e){if(h.enabled!==!1&&h.noZoom!==!0){e.preventDefault(),e.stopPropagation();var t=0;void 0!==e.wheelDelta?t=e.wheelDelta:void 0!==e.detail&&(t=-e.detail),t>0?h.dollyOut():h.dollyIn(),h.update(),h.dispatchEvent(U),h.dispatchEvent(V)}}function c(e){if(h.enabled!==!1&&h.noKeys!==!0&&h.noPan!==!0)switch(e.keyCode){case h.keys.UP:h.pan(0,h.keyPanSpeed),h.update();break;case h.keys.BOTTOM:h.pan(0,-h.keyPanSpeed),h.update();break;case h.keys.LEFT:h.pan(h.keyPanSpeed,0),h.update();break;case h.keys.RIGHT:h.pan(-h.keyPanSpeed,0),h.update()}}function d(e){if(h.enabled!==!1){switch(e.touches.length){case 1:if(h.noRotate===!0)return;k=x.TOUCH_ROTATE,E.set(e.touches[0].pageX,e.touches[0].pageY);break;case 2:if(h.noZoom===!0)return;k=x.TOUCH_DOLLY;var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);g.set(0,o);break;case 3:if(h.noPan===!0)return;k=x.TOUCH_PAN,T.set(e.touches[0].pageX,e.touches[0].pageY);break;default:k=x.NONE}h.dispatchEvent(U)}}function l(e){if(h.enabled!==!1){e.preventDefault(),e.stopPropagation();var t=h.domElement===document?h.domElement.body:h.domElement;switch(e.touches.length){case 1:if(h.noRotate===!0)return;if(k!==x.TOUCH_ROTATE)return;m.set(e.touches[0].pageX,e.touches[0].pageY),f.subVectors(m,E),h.rotateLeft(2*Math.PI*f.x/t.clientWidth*h.rotateSpeed),h.rotateUp(2*Math.PI*f.y/t.clientHeight*h.rotateSpeed),E.copy(m),h.update();break;case 2:if(h.noZoom===!0)return;if(k!==x.TOUCH_DOLLY)return;var n=e.touches[0].pageX-e.touches[1].pageX,o=e.touches[0].pageY-e.touches[1].pageY,a=Math.sqrt(n*n+o*o);H.set(0,a),b.subVectors(H,g),b.y>0?h.dollyOut():h.dollyIn(),g.copy(H),h.update();break;case 3:if(h.noPan===!0)return;if(k!==x.TOUCH_PAN)return;v.set(e.touches[0].pageX,e.touches[0].pageY),w.subVectors(v,T),h.pan(w.x,w.y),T.copy(v),h.update();break;default:k=x.NONE}}}function u(){h.enabled!==!1&&(h.dispatchEvent(V),k=x.NONE)}this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new THREE.Vector3,this.center=this.target,this.noZoom=!1,this.zoomSpeed=1,this.minDistance=0,this.maxDistance=1/0,this.noRotate=!1,this.rotateSpeed=1,this.noPan=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.noKeys=!1,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40};var h=this,p=1e-6,E=new THREE.Vector2,m=new THREE.Vector2,f=new THREE.Vector2,T=new THREE.Vector2,v=new THREE.Vector2,w=new THREE.Vector2,y=new THREE.Vector3,R=new THREE.Vector3,g=new THREE.Vector2,H=new THREE.Vector2,b=new THREE.Vector2,M=0,O=0,S=1,L=new THREE.Vector3,P=new THREE.Vector3,x={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},k=x.NONE;this.target0=this.target.clone(),this.position0=this.object.position.clone();var N=(new THREE.Quaternion).setFromUnitVectors(e.up,new THREE.Vector3(0,1,0)),A=N.clone().inverse(),D={type:"change"},U={type:"start"},V={type:"end"};this.rotateLeft=function(e){void 0===e&&(e=n()),O-=e},this.rotateUp=function(e){void 0===e&&(e=n()),M-=e},this.panLeft=function(e){var t=this.object.matrix.elements;y.set(t[0],t[1],t[2]),y.multiplyScalar(-e),L.add(y)},this.panUp=function(e){var t=this.object.matrix.elements;y.set(t[4],t[5],t[6]),y.multiplyScalar(e),L.add(y)},this.pan=function(e,t){var n=h.domElement===document?h.domElement.body:h.domElement;if(void 0!==h.object.fov){var o=h.object.position,a=o.clone().sub(h.target),i=a.length();i*=Math.tan(h.object.fov/2*Math.PI/180),h.panLeft(2*e*i/n.clientHeight),h.panUp(2*t*i/n.clientHeight)}else void 0!==h.object.top?(h.panLeft(e*(h.object.right-h.object.left)/n.clientWidth),h.panUp(t*(h.object.top-h.object.bottom)/n.clientHeight)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.")},this.dollyIn=function(e){void 0===e&&(e=o()),S/=e},this.dollyOut=function(e){void 0===e&&(e=o()),S*=e},this.update=function(){var e=this.object.position;R.copy(e).sub(this.target),R.applyQuaternion(N);var t=Math.atan2(R.x,R.z),o=Math.atan2(Math.sqrt(R.x*R.x+R.z*R.z),R.y);this.autoRotate&&this.rotateLeft(n()),t+=O,o+=M,o=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,o)),o=Math.max(p,Math.min(Math.PI-p,o));var a=R.length()*S;a=Math.max(this.minDistance,Math.min(this.maxDistance,a)),this.target.add(L),R.x=a*Math.sin(o)*Math.sin(t),R.y=a*Math.cos(o),R.z=a*Math.sin(o)*Math.cos(t),R.applyQuaternion(A),e.copy(this.target).add(R),this.object.lookAt(this.target),O=0,M=0,S=1,L.set(0,0,0),P.distanceToSquared(this.object.position)>p&&(this.dispatchEvent(D),P.copy(this.object.position))},this.reset=function(){k=x.NONE,this.target.copy(this.target0),this.object.position.copy(this.position0),this.update()},this.domElement.addEventListener("contextmenu",function(e){e.preventDefault()},!1),this.domElement.addEventListener("mousedown",a,!1),this.domElement.addEventListener("mousewheel",s,!1),this.domElement.addEventListener("DOMMouseScroll",s,!1),this.domElement.addEventListener("touchstart",d,!1),this.domElement.addEventListener("touchend",u,!1),this.domElement.addEventListener("touchmove",l,!1),window.addEventListener("keydown",c,!1),this.update()},THREE.OrbitControls.prototype=Object.create(THREE.EventDispatcher.prototype)},{}],2:[function(e,t,n){"use strict";var o=(e("./controls/OrbitControls.js"),function(e,t){var n=new THREE.Texture(e);n.wrapS=THREE.RepeatWrapping,n.wrapT=THREE.RepeatWrapping,n.repeat.set(1,1),n.magFilter=THREE.NearestFilter,n.needsUpdate=!0;var o=new THREE.MeshLambertMaterial({map:n,transparent:!0}),r=new THREE.BoxGeometry(1,1,1),s=new THREE.Mesh(r,o);s.position.x=t[0],s.position.y=t[1],s.position.z=t[2],i.add(s),a.push(s.position)}),a=[],i=new THREE.Scene,r=(window.innerWidth/window.innerHeight,new THREE.OrthographicCamera(window.innerWidth/-100,window.innerWidth/100,window.innerHeight/100,window.innerHeight/-100,1,1e3));r.position.set(0,0,30);var s=new THREE.WebGLRenderer({alpha:!0,antialias:!0});s.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(s.domElement);var c=new THREE.Clock,d=new THREE.Matrix4,l=new THREE.SpotLight(16777215);l.position.set(50,50,1e3);var u=new THREE.SpotLight(16777215);u.position.set(50,50,-1e3);var h=new THREE.SpotLight(16777215,.4);h.position.set(50,50,0);var p=new THREE.SpotLight(16777215,.4);p.position.set(-50,50,0),i.add(l),i.add(u),i.add(h),i.add(p);var E=function(){var e,t=document.querySelector("#blue-brick"),n=document.querySelector("#ground"),a=document.querySelector("#ground-grass"),i=document.querySelector("#open-leafs"),r=document.querySelector("#stone"),s=document.querySelector("#log");for(e=2;e<5;e+=1)o(r,[e,3,-1]),o(r,[e,3,-2]),o(r,[e,3,-3]);for(e=2;e<5;e+=1)o(r,[e,4,-1]),o(r,[e,4,-2]),o(r,[e,4,-3]);for(e=-1;e>-3;e--)o(r,[3,5,e]);for(e=-6;e<6;e+=1)o(a,[e,2,-4]),o(a,[e,2,-3]),o(a,[e,2,-2]),o(a,[e,2,-1]),o(a,[e,2,0]);for(e=-6;e<6;e+=1)o(n,[e,1,-4]),o(n,[e,1,-3]),o(n,[e,1,-2]);for(o(n,[-5,1,0]),o(n,[-4,1,-1]),o(n,[-3,1,0]),o(n,[-2,1,0]),o(n,[-1,1,-1]),o(n,[0,1,-1]),o(n,[1,1,0]),o(n,[2,1,0]),o(n,[3,1,0]),e=-5;e<3;e+=1)o(n,[e,0,-1]),o(n,[e,0,-2]),o(n,[e,0,-3]);for(e=-4;e<2;e+=1)o(r,[e,-1,Math.floor(-2*Math.random())]),o(r,[e,-1,-3]),o(r,[e,-1,-4]);for(e=-4;e<2;e+=1)o(r,[e,-2,Math.floor(-2*Math.random())]),o(r,[e,-2,-3]),o(r,[e,-2,-4]);for(e=-3;e<2;e+=1)o(t,[e,-3,Math.floor(-2*Math.random())]),o(t,[e,-3,-3]),o(t,[e,-3,Math.floor(-4*Math.random())]);for(e=-3;e<1;e+=1)o(t,[e,-4,Math.floor(-2*Math.random())]),o(t,[e,-4,-3]),o(t,[e,-4,Math.floor(-4*Math.random())]);for(o(i,[0,0,-1]),o(i,[0,-1,-1]),o(i,[-1,-1,-1]),e=3;e<6;e+=1)o(s,[-3,e,0]);for(e=-5;e<0;e+=1)o(i,[e,5,-1]),o(i,[e,5,0]),o(i,[e,5,1]),o(i,[e,5,Math.floor(3*Math.random())]);for(e=-4;e<-1;e+=1)o(i,[e,6,-1]),o(i,[e,6,0]),o(i,[e,6,1]),o(i,[e,6,0])};E();var m=function(){var e=document.querySelector("#gomez"),t=new THREE.Texture(e);t.minFilter=THREE.NearestFilter,t.magFilter=THREE.NearestFilter,t.repeat.set(.5,1),t.needsUpdate=!0;var n=new THREE.SpriteMaterial({map:t}),o=new THREE.Sprite(n);o.position.y=3;var a=new TimelineMax({repeat:-1,repeatDelay:480,useFrames:!0});a.to(t.offset,17,{x:.5,ease:SteppedEase.config(1)}),a.to(t.offset,0,{x:0,ease:SteppedEase.config(1)}),i.add(o)};m();var f=function(){var e=document.querySelector("#mill"),t=new THREE.Texture(e);t.minFilter=THREE.NearestFilter,t.magFilter=THREE.NearestFilter,t.needsUpdate=!0;var n=new THREE.SpriteMaterial({map:t}),o=new THREE.PlaneGeometry(4,4),n=new THREE.MeshBasicMaterial({map:t,transparent:!0,side:THREE.DoubleSide}),a=new THREE.Mesh(o,n);a.position.set(3,5,-.4);var r=new TimelineMax({repeat:-1});r.to(a.rotation,2,{z:-Math.PI,ease:Power0.easeNone}),i.add(a)};f();var T=function(e){TweenMax.staggerFrom(a,e,{z:30,ease:Elastic.easeOut},.03),TweenMax.from(r.position,e,{z:100,x:500,ease:Power2.easeOut,onUpdate:function(){r.lookAt(i.position)}})};T(7);var v=function(e){d.makeRotationY(2*c.getDelta()*Math.PI/e),r.position.applyMatrix4(d),r.lookAt(i.position)},w={element:document.querySelector("[rotate-handler]"),clickedState:!1};w.element.addEventListener("click",function(){w.clickedState=!w.clickedState;var e=function e(){w.clickedState&&requestAnimationFrame(e),v(10),s.render(i,r)};e()});var y=function e(){requestAnimationFrame(e),s.render(i,r)};y();var R=[];R.push(function(){s.render(i,r)});var g=(new THREE.OrbitControls(r),null);requestAnimationFrame(function e(t){requestAnimationFrame(e),g=g||t-1e3/60;var n=Math.min(200,t-g);g=t,R.forEach(function(e){e(n/1e3,t/1e3)})})},{"./controls/OrbitControls.js":1}]},{},[2]);